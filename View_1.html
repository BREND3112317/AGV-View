<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="icon" href="/favicon.ico" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#343a40" />
  <meta name="description" content="This Website created by BREND." />
  <!-- <meta property="og:url" content="https://boylin0.github.io" /> -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="AGV GUI test" />
  <meta property="og:description" content="This Website created by BREND." />
  <meta property="og:image" content="/opengraph.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="AGV GUI test" />
  <meta name="twitter:description" content="This Website created by Brend." />
  <!--BootStrap CSS-->
  <link rel="stylesheet" href="./css/bootstrap.css" crossorigin="anonymous">
  <!-- Font-Awesome CSS-->
  <link href="./package/fontawesome/css/all.css" rel="stylesheet">
  <!--Main CSS-->
  <link href="main.css" rel="stylesheet" />
  <!--AGV View CSS-->
  <link href="AGV_View_test.css" rel="stylesheet" />
  <!--AGV Table CSS-->
  <link href="AGV_table.css" rel="stylesheet" />
  <!--Icon css-->
  <link href="icons/icomoon/style.css" rel="stylesheet" />
  <title>AGV GUI test - 1</title>
  <style>
    .main {
      top: 0;
      bottom: 0;
      margin: auto;
      position: absolute;
      height: fit-content;
      left: 0;
      right: 0;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .View {
      width: 100%;
    }
  </style>
</head>

<body>
  <noscript>
    You need to enable JavaScript to run this app.
  </noscript>
  <div class="main">
    <div id="app" class="container ad-App">
      <div class="ad-Container">
        <div class="ad-Container-main">
          <div class="ad-Container-svg">
            <table class="ad-Container-table">
              <tbody id="map" class="class class-2108 static static-map">
                <tr>
                  <td id="000000" class="square unWalk">
                    <!-- <i id="ITRI_3-3" class="dynamic-i fas icon-AGV-Car AGV AGV-main" aria-hidden="true"></i> -->
                  </td>
                  <td id="000010" class="square unWalk"></td>
                  <td id="000020" class="square Walk"></td>
                  <td id="000030" class="square Walk"></td>
                  <td id="000040" class="square unWalk"></td>
                  <td id="000050" class="square unWalk"></td>
                  <td id="000060" class="square unWalk"></td>
                </tr>
                <tr>
                  <td id="010000" class="square unWalk"></td>
                  <td id="010010" class="square unWalk"></td>
                  <td id="010020" class="square Walk"></td>
                  <td id="010030" class="square Walk"></td>
                  <td id="010040" class="square Walk"></td>
                  <td id="010050" class="square unWalk"></td>
                  <td id="010060" class="square unWalk"></td>
                </tr>
                <tr>
                  <td id="020000" class="square unWalk"></td>
                  <td id="020010" class="square unWalk"></td>
                  <td id="020020" class="square Walk"></td>
                  <td id="020030" class="square Walk"></td>
                  <td id="020040" class="square Walk"></td>
                  <td id="020050" class="square unWalk"></td>
                  <td id="020060" class="square unWalk"></td>
                </tr>
                <tr>
                  <td id="030000" class="square unWalk"></td>
                  <td id="030010" class="square unWalk"></td>
                  <td id="030020" class="square Walk"></td>
                  <td id="030030" class="square Walk"></td>
                  <td id="030040" class="square Walk"></td>
                  <td id="030050" class="square Walk"></td>
                  <td id="030060" class="square unWalk"></td>
                </tr>
                <tr>
                  <td id="040000" class="square unWalk"></td>
                  <td id="040010" class="square Walk"></td>
                  <td id="040020" class="square Walk"></td>
                  <td id="040030" class="square Walk"></td>
                  <td id="040040" class="square Walk"></td>
                  <td id="040050" class="square Walk"></td>
                  <td id="040060" class="square unWalk"></td>
                </tr>
                <tr>
                  <td id="050000" class="square unWalk"></td>
                  <td id="050010" class="square Walk"></td>
                  <td id="050020" class="square Walk"></td>
                  <td id="050030" class="square Walk"></td>
                  <td id="050040" class="square Walk"></td>
                  <td id="050050" class="square Walk"></td>
                  <td id="050060" class="square unWalk"></td>
                </tr>
                <tr>
                  <td id="060000" class="square unWalk"></td>
                  <td id="060010" class="square Walk"></td>
                  <td id="060020" class="square Walk"></td>
                  <td id="060030" class="square Walk"></td>
                  <td id="060040" class="square Walk"></td>
                  <td id="060050" class="square Walk"><i id="power"
                    class="static static-i fas fa-charging-station fa-lg" aria-hidden="true"></i>
                  </td>
                  <td id="060060" class="square unWalk">
                    <i id="powerUnwalk" class="static static-i fas fa-plug tf90 fa-lg" aria-hidden="true"></i>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="ad-Container-controls">
          <div class="ad-Controls">
            <h3 class="ad-Controls-title">AGV</h3>
            <div class="ad-Controls-container">
              <div class="ad-Control"><label class="ad-Control-label">Service</label>
                <div class="ad-Choices">
                  <label class="ad-Choice">
                    <input id="ITRI_3-1_Radio" class="ad-Choice-input" type="radio" name="AGVName" value="AGV_1" onclick="AGVServiceSwitch(this)">
                    <div class="ad-Choice-fake">3-1</div>
                  </label>
                  <label class="ad-Choice">
                    <input id="ITRI_3-2_Radio" class="ad-Choice-input" type="radio" name="AGVName" value="AGV_2" onclick="AGVServiceSwitch(this)">
                    <div class="ad-Choice-fake">3-2</div>
                  </label>
                  <label class="ad-Choice">
                    <input id="ITRI_3-3_Radio" class="ad-Choice-input" type="radio" name="AGVName" value="AGV_3" onclick="AGVServiceSwitch(this)">
                    <div class="ad-Choice-fake">3-3</div>
                  </label>
                  <label class="ad-Choice">
                    <input id="ITRI_3-4_Radio" class="ad-Choice-input" type="radio" name="AGVName" value="AGV_4" onclick="AGVServiceSwitch(this)">
                    <div class="ad-Choice-fake">3-4</div>
                  </label></div>
              </div>
            </div>
            <div class="ad-Controls-container">
              <div class="ad-Control">
                <label class="ad-Control-label">Loading</label>
                <label class="ad-Checkbox">
                  <input id="Loading_CheckBox" class="ad-Checkbox-input" type="checkbox" checked="" onchange="setAGVLoading(this)">
                  <div class="ad-Checkbox-fake"></div>
              </label>
              <div class="ad-Control">
                <label class="ad-Control-label">FOV LOCK</label>
                <label class="ad-Checkbox">
                  <input id="FOVLock_CheckBox" class="ad-Checkbox-input" type="checkbox" onchange="setFovLock()">
                  <div class="ad-Checkbox-fake"></div>
                </label>
              </div>
            </div>
            </div>
            <h3 class="ad-Controls-title">Status</h3>
            <div class="ad-Controls-container">
              <div class="ad-Control">
                <label class="ad-Control-label">Status</label>
                <input id="AGV_Status" class="ad-Text" type="text" value="unset">
              </div>
              <div class="ad-Control">
                <label class="ad-Control-label">State</label>
                <input id="AGV_State" class="ad-Text" type="text" value="unset">
              </div>
              <div class="ad-Control">
                <label class="ad-Control-label">IsLeftUp</label>
                <input id="AGV_IsLeftUp" class="ad-Text" type="text" value="unset">
              </div>
            </div>
            <div class="ad-Controls-container">
              <div class="ad-Control"><label class="ad-Control-label">X</label><input id="AGV_X" class="ad-Text"
                  type="text" value="-1"></div>
              <div class="ad-Control"><label class="ad-Control-label">y</label><input id="AGV_Y" class="ad-Text"
                  type="text" value="-1"></div>
              <div class="ad-Control"><label class="ad-Control-label">Yaw</label><input id="AGV_Yaw" class="ad-Text"
                  type="text" value="-0"></div>
            </div>
            <div class="ad-Controls-container">
              <div class="ad-Control">
                <label class="ad-Control-label">Battery</label>
                <input id="AGV_Battery" class="ad-Text" type="text" value="unset">
              </div>
              <div class="ad-Control">
                <label class="ad-Control-label">Chargeing</label>
                <input id="AGV_Chargeing" class="ad-Text" type="text" value="unset">
              </div>
              <div class="ad-Control">
                <label class="ad-Control-label">IsReady</label>
                <input id="AGV_IsReady" class="ad-Text" type="text" value="unset">
              </div>
            </div>
            
            <h3 class="ad-Controls-title">Shelf</h3>
            <div class="ad-Controls-container">
              <div class="ad-Control"><label class="ad-Control-label">X</label><input class="ad-Text" type="text"
                  value="-1"></div>
              <div class="ad-Control"><label class="ad-Control-label">y</label><input class="ad-Text" type="text"
                  value="-1"></div>
              <div class="ad-Control"><label class="ad-Control-label">Yaw</label><input class="ad-Text" type="text"
                  value="-0"></div>
            </div>
            
          </div>
        </div>
        <div class="ad-Container-controls">
          <div class="ad-Controls">
            <h3 class="ad-Controls-title">Control</h3>
            <div class="ad-Controls-container">
              <div class="ad-Control"><button class="ad-Button  ad-Button--reset" type="button" onclick="AGV_GETAWAY('-13')"><i class="far fa-caret-square-up fa-2x" style="color: #845ef7;"></i></button></div>
              <div class="ad-Control"><button class="ad-Button  ad-Button--reset" type="button" onclick="AGV_GETAWAY('-10')"><i class="fas fa-arrow-up fa-2x" style="color: #51cf66;"></i></button></div>
              <div class="ad-Control"><button class="ad-Button  ad-Button--reset" type="button" onclick="AGV_GETAWAY('-14')"><i class="far fa-caret-square-down fa-2x" style="color: #845ef7;"></i></button></div>
            </div>
            <div class="ad-Controls-container">
              <div class="ad-Control"><button class="ad-Button  ad-Button--reset" type="button" onclick="AGV_GETAWAY('-11')"><i class="fas fa-undo-alt fa-2x" style="color: #51cf66;"></i></button></div>
              <div class="ad-Control"><button class="ad-Button  ad-Button--delete" type="button" onclick="AGV_GETAWAY('-1')"><i class="fas fa-exclamation-circle fa-2x"></i></button></div>
              <div class="ad-Control"><button class="ad-Button  ad-Button--reset" type="button" onclick="AGV_GETAWAY('-12')"><i class="fas fa-redo-alt fa-2x" style="color: #51cf66;"></i></button></div>
            </div>
            <div class="ad-Controls-container">
              <div class="ad-Control"><button class="ad-Button  ad-Button--reset" type="button" onclick="Shelf_up"><i class="fas fa-undo fa-2x" style="color: #845ef7;"></i></button></div>
              <div class="ad-Control"><button class="ad-Button  ad-Button--reset" type="button" onclick="AGV_GETAWAY('-15')"><i class="fas fa-arrow-down fa-2x" style="color: #51cf66;"></i></button></div>
              <div class="ad-Control"><button class="ad-Button  ad-Button--reset" type="button" onclick="Shelf_up"><i class="fas fa-redo fa-2x" style="color: #845ef7;"></i></button></div>
            </div>
            <h3 class="ad-Controls-title">Control - 2</h3>
            <div class="ad-Controls-container">
              <div class="ad-Control"><button class="ad-Button  ad-Button--reset" type="button" onclick="AGV_GETAWAY('-16')">充電</button></div>
              <div class="ad-Control"><button class="ad-Button  ad-Button--reset" type="button" onclick="AGV_GETAWAY('-17')">離開充電</button></div>
              <div class="ad-Control"><button class="ad-Button  ad-Button--reset" type="button" onclick="Shelf_up"><i class="fas fa-redo fa-2x" style="color: #845ef7;"></i></button></div>
            </div>
            <div class="ad-Controls-container">
              <div class="ad-Control"><button class="ad-Button  ad-Button--reset" type="button" onclick="Shelf_up"><i class="fas fa-undo fa-2x" style="color: #845ef7;"></i></button></div>
              <div class="ad-Control"><button class="ad-Button  ad-Button--reset" type="button" onclick="AGV_GETAWAY('-15')"><i class="fas fa-arrow-down fa-2x" style="color: #51cf66;"></i></button></div>
              <div class="ad-Control"><button class="ad-Button  ad-Button--reset" type="button" onclick="Shelf_up"><i class="fas fa-redo fa-2x" style="color: #845ef7;"></i></button></div>
            </div>  
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
<!--Bootstrap JS-->
<script src="./js/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
<script src="./js/bootstrap.js" crossorigin="anonymous"></script>
<!--Font-Awesome JS-->
<!-- <script src="./package/fontawesome/js/all.js" crossorigin="anonymous"></script> -->
<!--JQuery-->
<script type="text/javascript" src="./js/jquery-3.3.1.js"></script>
<!--eazypath JS-->
<!-- <script type="text/javascript" src="./js/node_modules/easystarjs/bin/easystar-0.4.4.min.js"></script> -->
<!--AGV View JS-->
<!-- <script type="text/javascript" src="AGV_Control_test.js"></script> -->

<script>
var requestDATAURL = "http://127.0.0.1/AGV/AGV-API/src/API/ajax_AGVStatus.php";
var requestGETAWAYURL = "http://127.0.0.1/AGV/AGV-API/src/API/ajax_AGVGetaway.php";

var AGV_Name = "ITRI_3-3";
var mainAGV = "AGV_3";
var AGV_Data = {};

var PreviewPath = [];
var mapPath = new Array;

var Services = {
    "AGV_1":    { Name: "ITRI_3-1", Type: "AGV",    isLoading: false,   show: true},
    "AGV_2":    { Name: "ITRI_3-2", Type: "AGV",    isLoading: false,   show: false},
    "AGV_3":    { Name: "ITRI_3-3", Type: "AGV",    isLoading: true,    show: true},
    "AGV_4":    { Name: "ITRI_3-4", Type: "AGV",    isLoading: false,   show: false},
    "Shelf_1":  { Name: "Shelf-1",  Type: "Shelf",  show: true,         Code: "040010"},
    "Shelf_2":  { Name: "Shelf-2",  Type: "Shelf",  show: true,         Code: "050010"},
    "Shelf_3":  { Name: "Shelf-3",  Type: "Shelf",  show: true,         Code: "060010"},
};

ajax_request = function(datajson, callback){
  var xmlhttp = new XMLHttpRequest();
  xmlhttp.open('POST', requestDATAURL, true);
  xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
  xmlhttp.send(JSON.stringify(datajson));
  callback(xmlhttp['response']);
  return xmlhttp;
}

// function AGVStatus(name, cmd){
//     var dataJSON = {};
//     dataJSON["Name"] = name;
//     dataJSON["Cmd"] = cmd;
//     console.log(JSON.stringify(dataJSON));
//     var request = "AGVStatus";
//     var requestURL = "http://127.0.0.1/AGV/AGV-API/src/API/ajax_" + request + ".php";
//     var response = '{}';
//     var xmlhttp = new XMLHttpRequest();
//     xmlhttp.addEventListener("load", completeHeader(response), false);
//     xmlhttp.open('POST', requestURL, true);
//     xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
//     xmlhttp.send(JSON.stringify(dataJSON));
//     return response;
// }

// function completeHeader(response){
//   console.log(this);
//   console.log(this.responseText);
//   response = this.responseText;
// }

// function AGVGetaway(name, cmd){
//     var dataJSON = {};
//     dataJSON["Name"] = name;
//     dataJSON["Cmd"] = cmd;
//     var request = "AGVGetaway";
//     var requestURL = "http://127.0.0.1/AGV/AGV-API/src/API/ajax_" + request + ".php";
//     var xmlhttp = new XMLHttpRequest();
//     xmlhttp.open('POST', requestURL, true);
//     xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
//     xmlhttp.send(JSON.stringify(dataJSON));
//     return xmlhttp;
// }

function AGVStatus(name, cmd){
    var dataJSON = {};
    dataJSON["Name"] = name;
    dataJSON["Cmd"] = cmd;
    var request;
    $.ajax({
        url: requestDATAURL,
        data: JSON.stringify(dataJSON),
        type: "POST",
        dataType: "json",
        async : false,
        contentType: "application/json;charset=utf-8",
        success: function(returnData){
            //console.log(returnData);
            request = returnData;
        },
        error: function(xhr, ajaxOptions, thrownError){
            // console.log("erorr");
            console.log(xhr);
            console.log(thrownError);
        },
        timeout: 3000
    });
    return request;
}

function AGVGetaway(name, cmd){
    console.log(name + " : " + cmd);
    var dataJSON = {};
    dataJSON["Name"] = name;
    dataJSON["Cmd"] = cmd;
    var request;
    $.ajax({
        url: requestGETAWAYURL,
        data: JSON.stringify(dataJSON),
        type: "POST",
        dataType: "json",
        async : false,
        contentType: "application/json;charset=utf-8",
        success: function(returnData){
            //console.log(returnData);
            request = returnData;
        },
        error: function(xhr, ajaxOptions, thrownError){
            console.log("erorr");
             console.log(xhr);
             console.log(thrownError);
        },
        timeout: 3000
    });
    return request;
}

var yPosition = [0, 78, 156, 233, 311, 390, 468];
var xPosition = [0, 78, 156, 234, 314, 391, 469];

move = function(Name, position, yaw){
    $("#"+Name).css({
        top: yPosition[parseInt(position[1])]+"px", 
        left: xPosition[parseInt(position[4])]+"px",
        transform: `rotate(${absYaw(parseInt(yaw))}deg)`,
    });
}
absYaw = function(yaw){
      while(yaw<0)yaw+=360;
      yaw = yaw%361;
      yaw = Math.round(yaw/90)*90;
      return yaw;
    }

updateControls = function(id, data){
    absYawName = function(yaw){
        while(yaw<0)yaw+=360;
        yaw = yaw%361;
        yaw = Math.round(yaw/90)*90;
        var name = "";
        switch(yaw){
            case 0:
                name="前";
                break;
            case 90:
                name="右";
                break;
            case 180:
                name="後";
                break;
            case 270:
                name="左";
                break;
        }
        return yaw+":"+name;
    }

    console.log(id + ": " + data);
    $('#AGV_Status')      .val(data['StatusCode']);
    $('#AGV_Battery')     .val(data['Config']["Battery"]);
    $('#AGV_IsProgress')  .val(data['Config']["AgvLogIndex"]['IsProgress']);
    $('#AGV_X')           .val(data['Config']["Attitude"]['Code'][4]);
    $('#AGV_Y')           .val(data['Config']["Attitude"]['Code'][1]);
    $('#AGV_Yaw')         .val(absYawName(parseInt(data['Config']["Attitude"]['Yaw'])));
}

loadingStatus = function(){
  for(var sv in Services){
    if(Services[sv].isLoading && Services[sv].Type == "AGV"){
      console.log(sv);
      var API_data = AGVStatus(Services[sv].Name, 1);
      if(sv == mainAGV){
        AGV_Data = API_data;
      }
      if(API_data['code'] == 0){
          var statusCode = API_data['data']['StatusCode'];
          var config = API_data['data']['Config'];
          updateControls(Services[sv].Name, API_data['data']);
          //console.log(data);
          if(statusCode == 0){
            move(Services[sv].Name, config['Attitude']["Code"], config['Attitude']["Yaw"]);
          }
      }else{
          
      }
    }
  }
}

MainAGV_STATUS = function(cmd){
    var response = AGVStatus(Services[mainAGV].Name, cmd);
    console.log(response);
}

MainAGV_GETAWAY = function(cmd){
    var response = AGVGetaway(Services[mainAGV].Name, cmd);
    console.log(response);
}

readyObject = function(){
  var loading = false;


  // 建立移動物件
  for(var sv in Services){
    var DOM_d = $(`<div id="${Services[sv].Name}" class="dynamic-i"></div>`);
    var DOM_i = $(`<i class="fas" aria-hidden="true"></i>`);
    if(Services[sv].show == false){
      $(DOM_d).css('display', 'none');
      // $(DOM).css('display', ''); //取消方法
    }
    if(Services[sv].Type == "AGV"){
      $(DOM_i).addClass("icon-AGV-Car");
      $(DOM_i).addClass("AGV");
      if(sv == mainAGV){
        loading = Services[sv].isLoading;
        $(DOM_i).addClass("AGV-main");
      }
      DOM_d.append(DOM_i);
      $("#map").append(DOM_d);
    }else if(Services[sv].Type == "Shelf"){
      $(DOM_i).addClass("icon-AGV-Shelf");
      $(DOM_i).addClass("Shelf");
      DOM_d.append(DOM_i);
      $("#map").append(DOM_d);
      move(Services[sv].Name, Services[sv].Code, 0);
    }
  }

  // 選擇AGV
  $("#" + Services[mainAGV].Name + "_Radio").attr("checked",true);
  $("#Loading_CheckBox").attr("checked",loading);
}

AGVServiceSwitch = function(e){
  
  $("#"+Services[mainAGV].Name).children().removeClass("AGV-main");
  mainAGV = e.value;
  console.log(Services[mainAGV]);
  // $("#"+Services[mainAGV].Name).css('display', '');
  $("#"+Services[mainAGV].Name).children().addClass("AGV-main");
  console.log((Services[mainAGV].isLoading ? true : ''));
  $('#Loading_CheckBox').prop('checked', Services[mainAGV].isLoading);
  // $("#Loading_CheckBox").attr("checked", (Services[mainAGV].isLoading ? true : ''));
}

setAGVLoading = function(e){
  Services[mainAGV].isLoading = $("#Loading_CheckBox").is(":checked");
  console.log(Services[mainAGV].isLoading);
}

setFovLock = function(){
  var yaw = 0;
  if($("#FOVLock_CheckBox").is(":checked")){
    yaw = AGV_Data['data']['Config']['Attitude']['Yaw'];
  }
  $(".static-map").css('transform', `rotate(${absYaw(parseInt(yaw))}deg)`);
  $(".static-i").css('transform', `rotate(${-absYaw(parseInt(yaw))}deg)`);
}

showList = function(list){
  // list.map((_p, i) => {
  //   console.log(_p);
  // });
  alert(list);
};

clearSubPoint = function(){
  for (var point in mapPath) {
    // console.log("clear " + mapPath[point]);
    if(mapPath[point] == "060050"){
      $('#'+mapPath[point]).css('color', '');
    }else{
      $("#"+mapPath[point]).empty();
    }
  }
  mapPath = [];
}

getPreviewList = function(){
  var data = AGVStatus(Services[mainAGV].Name, 100);
  PreviewPath = data.data;
  var i=0;
  for (var key in PreviewPath) {
    console.log(key, PreviewPath[key]);
    $('#'+key).mouseover(function() {
      clearSubPoint();
      //console.log(this.id + " in.");
      var length = PreviewPath[this.id].length;
      var index = length -1;
      PreviewPath[this.id].map((_code, i) => {
        mapPath.push(_code);
        $('#'+_code).append(`<i class="far fa-dot-circle" style="color: rgb(81, 207, 102, ` + (index--)/length + `)"></i>`);
      });
      if(this.id == "060050"){
        $('#'+this.id).css('color', 'rgb(81, 207, 102)');
        $('#'+this.id).click(function(){
          $('#'+this.id).css('color', '#0eb82a');
        });
      }else{
        var DOM = `<i class="fas fa-bullseye fa-lg static-i" style="color: #51cf66;"></i>`;
        $(DOM).click(function(){
          $(DOM).css('color', '#0eb82a');
        });
        $('#'+this.id).append(DOM);
      }
      mapPath.push(this.id);
      
    });
    // $('#'+key).mouseout(function (){
    //   console.log(this.id + " out.");
    //   PreviewPath[this.id].map((_code, i) => {
    //     console.log(_code + " remove.");
    //     $('#'+_code).empty();
    //   });
    //   if(this.id == "060050"){
    //     $('#'+this.id).css('color', '');
    //   }else{
    //     $('#'+this.id).empty();
    //   }
    // });
  }
  if(typeof PreviewPath['060050'] !== 'undefined'){
    console.log("test");
    //    
    $("#060060").mouseover(function() {
      $("#060050").mouseover();
      $('#'+this.id).css('color', 'rgb(240, 227, 51)');
    });
    $("#060060").click(function(){
      $('#'+this.id).css('color', 'rgb(255, 199, 15)');
    });
    // $("#060060").unclick(function(){
    //   $('#'+this.id).css('color', '#51cf66');
    // });
    $("#060060").mouseout(function (){
      $("#060050").mouseout();

      $('#'+this.id).css('color', '');
    });
  }
  // ajax_request("AGVStatus", {'Name': Services[mainAGV].Name, "Cmd": 100}, showList);
}

$(function () {
  $("#map").mouseout(function(){
    clearSubPoint();
  });

  readyObject();
  loadingStatus();
  getPreviewList();
  // setInterval("loadingStatus()", 500);
});



</script>
</html>